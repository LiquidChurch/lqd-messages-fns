define(["../core","../data/var/dataPriv","../css/var/isHiddenWithinTree"],function(e,a,b){var d={};function c(h){var g,j=h.ownerDocument,k=h.nodeName,i=d[k];if(i){return i}g=j.body.appendChild(j.createElement(k)),i=e.css(g,"display");g.parentNode.removeChild(g);if(i==="none"){i="block"}d[k]=i;return i}function f(l,g){var m,k,h=[],i=0,j=l.length;for(;i<j;i++){k=l[i];if(!k.style){continue}m=k.style.display;if(g){if(m==="none"){h[i]=a.get(k,"display")||null;if(!h[i]){k.style.display=""}}if(k.style.display===""&&b(k)){h[i]=c(k)}}else{if(m!=="none"){h[i]="none";a.set(k,"display",m)}}}for(i=0;i<j;i++){if(h[i]!=null){l[i].style.display=h[i]}}return l}e.fn.extend({show:function(){return f(this,true)},hide:function(){return f(this)},toggle:function(g){if(typeof g==="boolean"){return g?this.show():this.hide()}return this.each(function(){if(b(this)){e(this).show()}else{e(this).hide()}})}});return f});